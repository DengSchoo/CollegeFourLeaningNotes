# 【微服务 1】微服务入门

## 目录

- 认识微服务
- 分布式服务架构案例
- eureka注册中心
- Ribbon负载均衡原理
- nacos注册中心

## 认识微服务

### 单体架构

> 业务的所有功能集中在一个项目中开发，打成一个包部署

#### 优点

- 架构简单
- 部署成本低

#### 缺点

- 耦合度高

### 分布式架构

> 根据业务功能对系统进行拆分，每个业务模块作为独立项目开发，称为一个服务。

![image-20211011161449052](https://gitee.com/DengSchoo374/img/raw/master/img/image-20211011161449052.png)

#### 优点

- 降低服务耦合
- 有利于服务升级拓展

#### 分布式需要考虑的问题

- 服务拆分粒度如何？
- 服务集群地址如何维护？
- 服务之间如何实现远程调用？
- 服务健康状态如何感知？

### 微服务

> 微服务是一种经过良好架构设计的分布式架构方案，微服务架构特征。

#### 设计原则：实现是高内聚低耦合

- 单一职责：微服务拆分粒度更小，每一个服务都对应唯一的业务能力，避免重复业务开发

- 面向服务：微服务对外暴漏业务接口

- 自治：团队独立、技术独立、数据独立、部署独立

- 隔离性强：服务做好隔离、容错、降级、避免出现级联现象

  

![image-20211011162143169](https://gitee.com/DengSchoo374/img/raw/master/img/image-20211011162143169.png)

### 微服务结构

![image-20211011162329113](https://gitee.com/DengSchoo374/img/raw/master/img/image-20211011162329113.png)

### 微服务技术对比

![image-20211011162856144](https://gitee.com/DengSchoo374/img/raw/master/img/image-20211011162856144.png)

### 企业需求

![image-20211011162911527](https://gitee.com/DengSchoo374/img/raw/master/img/image-20211011162911527.png)

## SpringCloud

> 目前国内使用最广泛的微服务框架。
>
> https://cloud.spring.io/

![image-20211011163233326](https://gitee.com/DengSchoo374/img/raw/master/img/image-20211011163233326.png)

### 与SpringBoot版本兼容关系

![image-20211011163445868](https://gitee.com/DengSchoo374/img/raw/master/img/image-20211011163445868.png)

> 使用Hoxton.SR10，对应SB2.3.x

## 服务拆分及远程调用

### 服务拆分注意事项

1. 不同微服务，不要重复开发相同业务
2. 微服务数据独立，不要访问其它微服务的数据库
3. 将自己的部分业务暴漏接口，供其它微服务调用

